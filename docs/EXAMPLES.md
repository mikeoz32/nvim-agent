# –ü–æ–≤–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è nvim-agent

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –≤—ñ–¥ –ø–æ—á–∞—Ç–∫—É –¥–æ –∫—ñ–Ω—Ü—è

## 1. –ë–∞–∑–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

```lua
-- –£ ~/.config/nvim/lua/plugins/nvim-agent.lua –∞–±–æ init.lua
return {
    'your-username/nvim-agent',
    config = function()
        require('nvim-agent').setup({
            api = {
                provider = "openai",
                model = "gpt-4",
                api_key = os.getenv("OPENAI_API_KEY"),
            },
            ui = {
                chat = {
                    width = 50,
                    height = 80,
                    position = "right",
                    border = "rounded",
                }
            },
            keymaps = {
                toggle_chat = "<leader>cc",
                explain_code = "<leader>ce",
                generate_code = "<leader>cg",
                toggle_mode = "<leader>cm",
            }
        })
    end,
    keys = {
        { "<leader>cc", desc = "Toggle AI Chat" },
        { "<leader>ce", mode = "v", desc = "Explain Code" },
        { "<leader>cg", desc = "Generate Code" },
        { "<leader>cm", desc = "Toggle Mode" },
    }
}
```

## 2. –ü–µ—Ä—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è - –ü—Ä–æ—Å—Ç–µ –ø–∏—Ç–∞–Ω–Ω—è (Ask Mode)

```vim
" –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç
:NvimAgentChat

" –∞–±–æ
<leader>cc

" –£ —á–∞—Ç—ñ –Ω–∞–ø–∏—Å–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è:
```

**–í–∏ –ø–∏—à–µ—Ç–µ:**
```
–Ø–∫ –ø—Ä–∞—Ü—é—î event loop –≤ Node.js?
```

**AI –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î:**
```
ü§ñ AI: Event loop —É Node.js - —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏
–Ω–µ–±–ª–æ–∫—É—é—á—ñ I/O –æ–ø–µ—Ä–∞—Ü—ñ—ó. –ü—Ä–∞—Ü—é—î –∑–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–º:

1. **Call Stack** - –≤–∏–∫–æ–Ω—É—î —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –∫–æ–¥
2. **Event Queue** - –∑–±–µ—Ä—ñ–≥–∞—î callbacks
3. **Event Loop** - –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ stack –ø–æ—Ä–æ–∂–Ω—ñ–π —ñ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å callbacks

–§–∞–∑–∏ event loop:
- timers (setTimeout, setInterval)
- pending callbacks
- idle, prepare
- poll (I/O callbacks)
- check (setImmediate)
- close callbacks

–ü—Ä–∏–∫–ª–∞–¥:
[–∫–æ–¥ –ø—Ä–∏–∫–ª–∞–¥]
```

## 3. –ü–æ—è—Å–Ω–µ–Ω–Ω—è –∫–æ–¥—É (Edit Mode)

**–£ —Ñ–∞–π–ª—ñ src/app.js:**
```javascript
function processData(data) {
    return data.map(x => x * 2).filter(x => x > 10);
}
```

**–î—ñ—ó:**
```vim
" 1. –í–∏–¥—ñ–ª–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é —É Visual mode
V2j

" 2. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ hotkey
<leader>ce

" –∞–±–æ –∫–æ–º–∞–Ω–¥—É
:NvimAgentExplain
```

**AI –ø–æ—è—Å–Ω—é—î:**
```
ü§ñ AI: –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –æ–±—Ä–æ–±–ª—è—î –º–∞—Å–∏–≤ –¥–∞–Ω–∏—Ö —É –¥–≤–∞ –µ—Ç–∞–ø–∏:

1. `map(x => x * 2)` - –º–Ω–æ–∂–∏—Ç—å –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –Ω–∞ 2
2. `filter(x => x > 10)` - –∑–∞–ª–∏—à–∞—î —Ç—ñ–ª—å–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –±—ñ–ª—å—à—ñ –∑–∞ 10

–ü—Ä–∏–∫–ª–∞–¥:
  –í—Ö—ñ–¥: [1, 5, 10, 15]
  –ü—ñ—Å–ª—è map: [2, 10, 20, 30]
  –ü—ñ—Å–ª—è filter: [20, 30]

–ú–æ–∂–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –æ–±'—î–¥–Ω–∞–≤—à–∏ –≤ –æ–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥:
[–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –∫–æ–¥]
```

## 4. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–æ–¥—É (Edit Mode)

```vim
" –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç
:NvimAgentChat

" –ù–∞–ø–∏—Å–∞—Ç–∏ –∑–∞–ø–∏—Ç:
```

**–í–∏:**
```
–°—Ç–≤–æ—Ä–∏ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó email –∞–¥—Ä–µ—Å–∏ –∑ —Ä–µ–≥—É–ª—è—Ä–Ω–∏–º –≤–∏—Ä–∞–∑–æ–º
```

**AI –≥–µ–Ω–µ—Ä—É—î:**
```javascript
function validateEmail(email) {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    
    if (!email || typeof email !== 'string') {
        return false;
    }
    
    return regex.test(email.trim());
}

// –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
validateEmail('test@example.com');  // true
validateEmail('invalid.email');     // false
```

## 5. Agent Mode - –ê–≤—Ç–æ–Ω–æ–º–Ω–∞ —Ä–æ–±–æ—Ç–∞

```vim
" –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ –Ω–∞ Agent mode
:NvimAgentMode agent

" –∞–±–æ
<leader>cm  (—Ü–∏–∫–ª—ñ—á–Ω–æ)

" –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ review mode
:NvimAgentReviewMode on
```

**–¢–µ–ø–µ—Ä AI –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏!**

**–ü—Ä–∏–∫–ª–∞–¥ 1: –ê–Ω–∞–ª—ñ–∑ –ø—Ä–æ–µ–∫—Ç—É**
```vim
:NvimAgentChat
```

**–í–∏:**
```
–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É —ñ –∑–Ω–∞–π–¥–∏ –≤—Å—ñ TODO –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
```

**AI –≤–∏–∫–æ–Ω—É—î:**
```
ü§ñ –í–∏–∫–æ–Ω—É—é 3 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏...

  üì¶ –ó–∞–≤–∞–Ω—Ç–∞–∂—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É
  ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 25 —Ñ–∞–π–ª—ñ–≤

  üîç –®—É–∫–∞—é —Ç–µ–∫—Å—Ç: "TODO"
  ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 12 –∑–±—ñ–≥—ñ–≤ —É 5 —Ñ–∞–π–ª–∞—Ö

  üìñ –ß–∏—Ç–∞—é —Ñ–∞–π–ª: src/app.js, lines 1-50
  ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ 50 —Ä—è–¥–∫—ñ–≤

  üí≠ –ê–Ω–∞–ª—ñ–∑—É—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏...

ü§ñ AI: –ó–Ω–∞–π—à–æ–≤ 12 TODO –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤:

src/app.js:15 - TODO: Add error handling
src/utils.js:42 - TODO: Optimize this function
src/db.js:78 - TODO: Add connection pooling
[...]

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:
1. –ö—Ä–∏—Ç–∏—á–Ω—ñ (3): –î–æ–¥–∞—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫
2. –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è (5): –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∫–æ–¥—É
3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (4): –î–æ–¥–∞—Ç–∏ JSDoc
```

**–ü—Ä–∏–∫–ª–∞–¥ 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è**
```vim
:NvimAgentChat
```

**–í–∏:**
```
–ó–Ω–∞–π–¥–∏ –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏ —á–µ—Ä–µ–∑ LSP —ñ –≤–∏–ø—Ä–∞–≤ —ó—Ö
```

**AI –≤–∏–∫–æ–Ω—É—î:**
```
ü§ñ –í–∏–∫–æ–Ω—É—é 4 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏...

  üêõ –ü–µ—Ä–µ–≤—ñ—Ä—è—é –ø–æ–º–∏–ª–∫–∏ —á–µ—Ä–µ–∑ LSP
  ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 3 –ø—Ä–æ–±–ª–µ–º–∏

  üìñ –ß–∏—Ç–∞—é —Ñ–∞–π–ª: src/app.js
  ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ 150 —Ä—è–¥–∫—ñ–≤

  üíæ –ó–∞–ø–∏—Å—É—é —Ñ–∞–π–ª: src/app.js
  ‚úÖ –§–∞–π–ª –∑–±–µ—Ä–µ–∂–µ–Ω–æ (–æ—á—ñ–∫—É—î –ø–µ—Ä–µ–≥–ª—è–¥—É)

  üêõ –ü–µ—Ä–µ–≤—ñ—Ä—è—é –ø–æ–º–∏–ª–∫–∏ –∑–Ω–æ–≤—É
  ‚úÖ –ü–æ–º–∏–ª–æ–∫ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

  üí≠ –ê–Ω–∞–ª—ñ–∑—É—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏...

ü§ñ AI: –í–∏–ø—Ä–∞–≤–∏–≤ 3 –ø–æ–º–∏–ª–∫–∏:
1. Line 42: –î–æ–¥–∞–≤ –≤—ñ–¥—Å—É—Ç–Ω—é –∑–º—ñ–Ω–Ω—É declaration
2. Line 78: –í–∏–ø—Ä–∞–≤–∏–≤ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
3. Line 105: –ó–∞–∫—Ä–∏–≤ –Ω–µ–∑–∞–∫—Ä–∏—Ç–∏–π –±–ª–æ–∫

üìã –Ñ 1 –∑–º—ñ–Ω–∞ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Enter –∞–±–æ ga —â–æ–± –ø—Ä–∏–π–Ω—è—Ç–∏.

  [Accept (1)] [Discard (1)] [Accept All] [Discard All]  ‚Üê inline –∫–Ω–æ–ø–∫–∏!
```

## 6. Inline –∫–Ω–æ–ø–∫–∏ Accept/Discard

**–ö–æ–ª–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —Ä—è–¥–∫—É –∑ –∫–Ω–æ–ø–∫–∞–º–∏:**

```vim
" –í–∞—Ä—ñ–∞–Ω—Ç 1: –ü—Ä–∏–π–Ω—è—Ç–∏ –æ–¥—Ä–∞–∑—É
Enter
" –∞–±–æ
ga

" –†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏:
‚úÖ –ü—Ä–∏–π–Ω—è—Ç–æ 1 –∑–º—ñ–Ω—É

" –í–∞—Ä—ñ–∞–Ω—Ç 2: –í—ñ–¥—Ö–∏–ª–∏—Ç–∏
gd

" –†–µ–∑—É–ª—å—Ç–∞—Ç:
üóëÔ∏è  –í—ñ–¥—Ö–∏–ª–µ–Ω–æ 1 –∑–º—ñ–Ω—É

" –í–∞—Ä—ñ–∞–Ω—Ç 3: –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ —Ä—ñ—à–µ–Ω–Ω—è–º
gp

" –í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è preview window –∑ diff
```

## 7. Preview Window - –î–µ—Ç–∞–ª—å–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥

**–ü—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è `gp` –∞–±–æ –∫–æ–º–∞–Ω–¥–∏ `:NvimAgentReviewChanges`:**

```diff
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ü–µ—Ä–µ–≥–ª—è–¥ –∑–º—ñ–Ω (1/1) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                                                                            ‚ïë
‚ïë  === –ó–º—ñ–Ω–∏ —É —Ñ–∞–π–ª—ñ: src/app.js ===                                        ‚ïë
‚ïë                                                                            ‚ïë
‚ïë  const express = require('express');                                       ‚ïë
‚ïë  const app = express();                                                    ‚ïë
‚ïë                                                                            ‚ïë
‚ïë -// TODO: Add error handling                                              ‚ïë
‚ïë +app.use((err, req, res, next) => {                                       ‚ïë
‚ïë +  console.error(err.stack);                                              ‚ïë
‚ïë +  res.status(500).send('Something broke!');                              ‚ïë
‚ïë +});                                                                       ‚ïë
‚ïë                                                                            ‚ïë
‚ïë  app.listen(3000);                                                         ‚ïë
‚ïë                                                                            ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë  [a]ccept  [d]iscard  [A]ccept All  [D]iscard All  [n]ext  [p]rev  [q]uit ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

**–ö–Ω–æ–ø–∫–∏:**
- `a` - –ø—Ä–∏–π–Ω—è—Ç–∏ —Ü—é –∑–º—ñ–Ω—É
- `d` - –≤—ñ–¥—Ö–∏–ª–∏—Ç–∏ —Ü—é –∑–º—ñ–Ω—É
- `A` - –ø—Ä–∏–π–Ω—è—Ç–∏ –≤—Å—ñ –∑–º—ñ–Ω–∏
- `D` - –≤—ñ–¥—Ö–∏–ª–∏—Ç–∏ –≤—Å—ñ –∑–º—ñ–Ω–∏
- `n` - –Ω–∞—Å—Ç—É–ø–Ω–∞ –∑–º—ñ–Ω–∞ (—è–∫—â–æ —î –¥–µ–∫—ñ–ª—å–∫–∞)
- `p` - –ø–æ–ø–µ—Ä–µ–¥–Ω—è –∑–º—ñ–Ω–∞
- `q` - –∑–∞–∫—Ä–∏—Ç–∏ preview

## 8. –°–∫–ª–∞–¥–Ω–∞ –∑–∞–¥–∞—á–∞ - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—Å—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É

```vim
" 1. –£–≤—ñ–º–∫–Ω—É—Ç–∏ Agent mode —Ç–∞ Review mode
:NvimAgentMode agent
:NvimAgentReviewMode on

" 2. –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç
:NvimAgentChat
```

**–í–∏:**
```
–ó–∞–≤–∞–Ω—Ç–∞–∂ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ get_project_context —ñ:
1. –ó–Ω–∞–π–¥–∏ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –±–µ–∑ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫
2. –î–æ–¥–∞–π try-catch –±–ª–æ–∫–∏ –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ
3. –î–æ–¥–∞–π JSDoc –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π
4. –í–∏–ø—Ä–∞–≤ –≤—Å—ñ ESLint –ø–æ–º–∏–ª–∫–∏
```

**AI –≤–∏–∫–æ–Ω—É—î (–∑–∞–π–º–∞—î ~30 —Å–µ–∫—É–Ω–¥):**
```
ü§ñ –í–∏–∫–æ–Ω—É—é 15 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤...

  üì¶ –ó–∞–≤–∞–Ω—Ç–∞–∂—É—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É
  ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ 25 —Ñ–∞–π–ª—ñ–≤ (3,245 —Ä—è–¥–∫—ñ–≤)

  üîç –ê–Ω–∞–ª—ñ–∑—É—é —Ñ–∞–π–ª: src/app.js
  üíæ –ó–∞–ø–∏—Å—É—é —Ñ–∞–π–ª: src/app.js
  ‚úÖ –§–∞–π–ª –∑–±–µ—Ä–µ–∂–µ–Ω–æ (–æ—á—ñ–∫—É—î –ø–µ—Ä–µ–≥–ª—è–¥—É)

  üîç –ê–Ω–∞–ª—ñ–∑—É—é —Ñ–∞–π–ª: src/utils.js
  üíæ –ó–∞–ø–∏—Å—É—é —Ñ–∞–π–ª: src/utils.js
  ‚úÖ –§–∞–π–ª –∑–±–µ—Ä–µ–∂–µ–Ω–æ (–æ—á—ñ–∫—É—î –ø–µ—Ä–µ–≥–ª—è–¥—É)

  [... —â–µ 10 —Ñ–∞–π–ª—ñ–≤ ...]

  üêõ –ü–µ—Ä–µ–≤—ñ—Ä—è—é –ø–æ–º–∏–ª–∫–∏ —á–µ—Ä–µ–∑ LSP
  ‚úÖ –í—Å—ñ –ø–æ–º–∏–ª–∫–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ

  üí≠ –ê–Ω–∞–ª—ñ–∑—É—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏...

ü§ñ AI: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–æ:

–í–∏–∫–æ–Ω–∞–Ω–æ:
- ‚úÖ –î–æ–¥–∞–Ω–æ try-catch –≤ 23 —Ñ—É–Ω–∫—Ü—ñ—ó
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ JSDoc –¥–ª—è 45 —Ñ—É–Ω–∫—Ü—ñ–π
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ 18 ESLint –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ 7 —Ü–∏–∫–ª—ñ–≤

–§–∞–π–ª–∏ –∑–º—ñ–Ω–µ–Ω–æ: 12

üìã –Ñ 12 –∑–º—ñ–Ω –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Enter –∞–±–æ ga —â–æ–± –ø—Ä–∏–π–Ω—è—Ç–∏.

  [Accept (12)] [Discard (12)] [Accept All] [Discard All]
```

**–ü–µ—Ä–µ–≥–ª—è–¥–∞—î–º–æ –∑–º—ñ–Ω–∏:**
```vim
" –í–∞—Ä—ñ–∞–Ω—Ç 1: –ü—Ä–∏–π–Ω—è—Ç–∏ –≤—Å–µ –æ–¥—Ä–∞–∑—É (—è–∫—â–æ –≤–ø–µ–≤–Ω–µ–Ω—ñ)
gA

‚úÖ –ü—Ä–∏–π–Ω—è—Ç–æ –≤—Å—ñ –∑–º—ñ–Ω–∏ (12)

" –í–∞—Ä—ñ–∞–Ω—Ç 2: –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–æ–∂–Ω—É –∑–º—ñ–Ω—É
gp

" –í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è preview, –ø–µ—Ä–µ–≥–ª—è–¥–∞—î—Ç–µ —á–µ—Ä–µ–∑ n/p
" –ü—Ä–∏–π–º–∞—î—Ç–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —á–µ—Ä–µ–∑ a
" –í—ñ–¥—Ö–∏–ª—è—î—Ç–µ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ —á–µ—Ä–µ–∑ d
```

## 9. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ñ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

```vim
" –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–º—ñ–Ω
:NvimAgentChangesStats

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–º—ñ–Ω:

–í—Å—å–æ–≥–æ: 12
‚úÖ –ó–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ: 8
‚è≥ –û—á—ñ–∫—É—é—Ç—å: 4

–ó–∞ —Ç–∏–ø–æ–º:
  ‚Ä¢ file_modify: 10
  ‚Ä¢ file_create: 2

" –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é —á–∞—Ç—É
:NvimAgentStats

üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:

–í—Å—å–æ–≥–æ –∑–∞–ø–∏—Ç—ñ–≤: 47
Tokens –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ: 125,340
–ß–∞—Å —Ä–æ–±–æ—Ç–∏: 2h 15m

–ù–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à—ñ –∫–æ–º–∞–Ω–¥–∏:
  1. NvimAgentChat (28)
  2. NvimAgentExplain (12)
  3. NvimAgentGenerate (7)
```

## 10. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–µ—Å—ñ–π

```vim
" –ó–±–µ—Ä–µ–≥—Ç–∏ –ø–æ—Ç–æ—á–Ω—É —Ä–æ–∑–º–æ–≤—É
:NvimAgentSaveChat refactoring-session

‚úÖ –†–æ–∑–º–æ–≤–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–∞

" –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ
:NvimAgentLoadChat refactoring-session

‚úÖ –†–æ–∑–º–æ–≤–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ (15 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)

" –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö
:NvimAgentListChats

üìã –ó–±–µ—Ä–µ–∂–µ–Ω—ñ —Ä–æ–∑–º–æ–≤–∏:

  1. refactoring-session (15 msgs, 2h ago)
  2. bug-fixing (8 msgs, 1d ago)
  3. architecture-discussion (23 msgs, 3d ago)
```

## 11. –ö–∞—Å—Ç–æ–º–Ω—ñ workflow

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π code review –ø–µ—Ä–µ–¥ commit

```lua
-- –£ ~/.config/nvim/lua/custom/git-hooks.lua
vim.api.nvim_create_autocmd("BufWritePre", {
    pattern = "*",
    callback = function()
        -- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∏—Ç–∞—Ç–∏ review —É AI
        if vim.g.nvim_agent_auto_review then
            vim.cmd("NvimAgentReview")
        end
    end
})

-- –£–≤—ñ–º–∫–Ω—É—Ç–∏
:lua vim.g.nvim_agent_auto_review = true
```

### –®–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –∫–æ–º–∞–Ω–¥

```lua
-- –£ –≤–∞—à–æ–º—É init.lua
vim.keymap.set('n', '<leader>aa', function()
    -- –®–≤–∏–¥–∫–∏–π –∞–Ω–∞–ª—ñ–∑ —Ñ–∞–π–ª—É
    require('nvim-agent.chat').send_message(
        "–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π –ø–æ—Ç–æ—á–Ω–∏–π —Ñ–∞–π–ª –Ω–∞ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –∑–∞–ø—Ä–æ–ø–æ–Ω—É–π –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è",
        { mode = 'agent' }
    )
end, { desc = "Quick AI Analysis" })

vim.keymap.set('n', '<leader>at', function()
    -- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤
    require('nvim-agent.chat').send_message(
        "–°—Ç–≤–æ—Ä–∏ unit —Ç–µ—Å—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π —É —Ü—å–æ–º—É —Ñ–∞–π–ª—ñ",
        { mode = 'agent' }
    )
end, { desc = "Generate Tests" })
```

## 12. Best Practices

### ‚úÖ DO:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Agent mode –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–¥–∞—á
- –£–≤—ñ–º–∫–Ω—ñ—Ç—å review mode –ø–µ—Ä–µ–¥ –≤–µ–ª–∏–∫–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏
- –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –∑–º—ñ–Ω–∏ –ø–µ—Ä–µ–¥ Accept
- –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ –∫–æ—Ä–∏—Å–Ω—ñ —Ä–æ–∑–º–æ–≤–∏ —á–µ—Ä–µ–∑ SaveChat
- –î–æ–¥–∞–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ñ–∞–π–ª—ñ–≤ –¥–ª—è –∫—Ä–∞—â–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

### ‚ùå DON'T:
- –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Accept All –±–µ–∑ –ø–µ—Ä–µ–≥–ª—è–¥—É
- –ù–µ –æ—á—ñ–∫—É–π—Ç–µ —â–æ AI –∑–∞–≤–∂–¥–∏ –ø—Ä–∞–≤–∏–π
- –ù–µ —Ä–æ–±—ñ—Ç—å –∑–∞–Ω–∞–¥—Ç–æ —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –≤ Ask mode
- –ù–µ –∑–∞–±—É–≤–∞–π—Ç–µ –≤–∏–º–∏–∫–∞—Ç–∏ review mode –¥–ª—è —à–≤–∏–¥–∫–∏—Ö –∑–º—ñ–Ω

---

**–¢–µ–ø–µ—Ä –≤–∏ –∑–Ω–∞—î—Ç–µ –≤—Å—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ nvim-agent! üöÄ**

**–ë—ñ–ª—å—à–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó:**
- [README.md](../README.md) - –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
- [MCP_TOOLS.md](MCP_TOOLS.md) - –í—Å—ñ 28 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
- [REVIEW_MODE.md](REVIEW_MODE.md) - –î–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ Review Mode
- [INLINE_BUTTONS.md](INLINE_BUTTONS.md) - –î–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ inline –∫–Ω–æ–ø–∫–∏
- [COMMANDS.md](COMMANDS.md) - –í—Å—ñ –∫–æ–º–∞–Ω–¥–∏
- [CHEATSHEET.md](CHEATSHEET.md) - –®–≤–∏–¥–∫–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫
