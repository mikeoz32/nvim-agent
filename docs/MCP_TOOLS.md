# MCP (Model Context Protocol) –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

## –©–æ —Ç–∞–∫–µ MCP?

Model Context Protocol (MCP) - —Ü–µ –ø—Ä–æ—Ç–æ–∫–æ–ª, —â–æ –¥–æ–∑–≤–æ–ª—è—î AI –º–æ–¥–µ–ª—è–º –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –¥—ñ—ó. –í nvim-agent, MCP –Ω–∞–¥–∞—î AI –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å:

- –ß–∏—Ç–∞—Ç–∏ —Ç–∞ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏
- –®—É–∫–∞—Ç–∏ –∫–æ–¥ —É –ø—Ä–æ–µ–∫—Ç—ñ
- –í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ Neovim —Ç–∞ shell
- –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é
- –ö–µ—Ä—É–≤–∞—Ç–∏ –±—É—Ñ–µ—Ä–∞–º–∏

## –†–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏ –∑ MCP

MCP —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ **—Ç—ñ–ª—å–∫–∏ –≤ —Ä–µ–∂–∏–º—ñ Agent** (`<leader>cm` –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è).

| –†–µ–∂–∏–º | MCP Tools | –û–ø–∏—Å |
|-------|-----------|------|
| Ask | ‚ùå –í–∏–º–∫–Ω–µ–Ω–æ | –¢—ñ–ª—å–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è |
| Edit | ‚ùå –í–∏–º–∫–Ω–µ–Ω–æ | –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –∑–º—ñ–Ω –∫–æ–¥—É |
| Agent | ‚úÖ –£–≤—ñ–º–∫–Ω–µ–Ω–æ | –ê–≤—Ç–æ–Ω–æ–º–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–¥–∞—á |

## –ë–∞–∑–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ Neovim

### üìñ –†–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–∞–º–∏ —Ç–∞ –ø—Ä–æ–µ–∫—Ç–æ–º

#### read_file
–ß–∏—Ç–∞—î –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É –∞–±–æ –π–æ–≥–æ —á–∞—Å—Ç–∏–Ω–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `path` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É
- `start_line` (number, –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) - –ø–æ—á–∞—Ç–∫–æ–≤–∞ –ª—ñ–Ω—ñ—è
- `end_line` (number, –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) - –∫—ñ–Ω—Ü–µ–≤–∞ –ª—ñ–Ω—ñ—è

#### write_file
–ó–∞–ø–∏—Å—É—î –∞–±–æ –æ–Ω–æ–≤–ª—é—î –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `path` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É
- `content` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –≤–º—ñ—Å—Ç –¥–ª—è –∑–∞–ø–∏—Å—É
- `create_dirs` (boolean, –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó

#### open_file
–í—ñ–¥–∫—Ä–∏–≤–∞—î —Ñ–∞–π–ª —É –±—É—Ñ–µ—Ä—ñ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `path` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É
- `line` (number) - –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Ä—è–¥–æ–∫
- `split` (string) - —Ä–µ–∂–∏–º: 'horizontal', 'vertical', 'tab'

#### get_project_context
**üéØ –ö–ª—é—á–æ–≤–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç!** –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `include_content` (boolean) - –≤–∫–ª—é—á–∏—Ç–∏ –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º true)
- `file_patterns` (array) - –ø–∞—Ç–µ—Ä–Ω–∏ —Ñ–∞–π–ª—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: –≤—Å—ñ –∫–æ–¥ —Ñ–∞–π–ª–∏)
- `exclude_patterns` (array) - —â–æ –≤–∏–∫–ª—é—á–∏—Ç–∏ (node_modules, .git, etc)
- `max_file_size` (number) - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É –≤ KB (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 100KB)
- `max_files` (number) - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 50)
- `include_git_info` (boolean) - –≤–∫–ª—é—á–∏—Ç–∏ Git —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é

**–©–æ –ø–æ–≤–µ—Ä—Ç–∞—î:**
- –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É –∑ –≤–º—ñ—Å—Ç–æ–º
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π
- –¢–∏–ø –ø—Ä–æ–µ–∫—Ç—É (Node.js, Python, Rust, Go, Neovim plugin, etc)
- –ú–µ—Ç–∞–¥–∞–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É (package.json, Cargo.toml, etc)
- Git —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é (–≥—ñ–ª–∫–∞, —Å—Ç–∞—Ç—É—Å, remote)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤, –∑–∞–≥–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä)

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è AI:**
```
User: –î–æ–¥–∞–π –Ω–æ–≤—É —Ñ—ñ—á—É –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó email

AI: get_project_context() -> –æ—Ç—Ä–∏–º—É—î –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
    –ê–Ω–∞–ª—ñ–∑—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –¥–µ –¥–æ–¥–∞—Ç–∏ –∫–æ–¥
    –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π —Ñ–∞–π–ª –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
    –û–Ω–æ–≤–ª—é—î —Ç–µ—Å—Ç–∏
    –û–Ω–æ–≤–ª—é—î –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
```

#### get_project_structure
–®–≤–∏–¥–∫–æ –ø–æ–∫–∞–∑—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É –±–µ–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–º—ñ—Å—Ç—É —Ñ–∞–π–ª—ñ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `max_depth` (number) - –≥–ª–∏–±–∏–Ω–∞ –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 5)
- `show_hidden` (boolean) - –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏

**–©–æ –ø–æ–≤–µ—Ä—Ç–∞—î:**
- –î–µ—Ä–µ–≤–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π —É —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π

#### find_files
–®—É–∫–∞—î —Ñ–∞–π–ª–∏ –∑–∞ glob –ø–∞—Ç–µ—Ä–Ω–æ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `pattern` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - glob –ø–∞—Ç–µ—Ä–Ω
- `max_results` (number) - –º–∞–∫—Å–∏–º—É–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

#### grep_search
–®—É–∫–∞—î —Ç–µ–∫—Å—Ç —É —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `query` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ—à—É–∫—É
- `file_pattern` (string) - –ø–∞—Ç–µ—Ä–Ω —Ñ–∞–π–ª—ñ–≤
- `max_results` (number) - –º–∞–∫—Å–∏–º—É–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

---

### üîç LSP —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

#### get_diagnostics
–û—Ç—Ä–∏–º—É—î –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–ø–æ–º–∏–ª–∫–∏, –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è).

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `buffer` (number) - –Ω–æ–º–µ—Ä –±—É—Ñ–µ—Ä–∞
- `severity` (string) - ERROR, WARN, INFO, HINT

#### goto_definition
–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–∏–º–≤–æ–ª—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `buffer` (number) - –Ω–æ–º–µ—Ä –±—É—Ñ–µ—Ä–∞
- `line` (number) - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞
- `column` (number) - –Ω–æ–º–µ—Ä –∫–æ–ª–æ–Ω–∫–∏
- `symbol` (string) - –Ω–∞–∑–≤–∞ —Å–∏–º–≤–æ–ª—É –¥–ª—è –ø–æ—à—É–∫—É

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–î–µ –≤–∏–∑–Ω–∞—á–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è parse_config?"

AI:
üîß –í–∏–∫–æ–Ω—É—é goto_definition: symbol="parse_config"
‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è:
   - config.lua:145
```

#### find_references
–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –≤—Å—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–∏–º–≤–æ–ª.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `symbol` (string) - –Ω–∞–∑–≤–∞ —Å–∏–º–≤–æ–ª—É
- `include_declaration` (boolean) - –≤–∫–ª—é—á–∏—Ç–∏ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è

#### get_hover_info
–û—Ç—Ä–∏–º—É—î –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –ø—Ä–æ —Å–∏–º–≤–æ–ª.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `symbol` (string) - –Ω–∞–∑–≤–∞ —Å–∏–º–≤–æ–ª—É
- `line`, `column` (number) - –ø–æ–∑–∏—Ü—ñ—è

#### get_signature_help
–û—Ç—Ä–∏–º—É—î –ø—ñ–¥–∫–∞–∑–∫—É –ø—Ä–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü—ñ—ó.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `line` (number) - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞
- `column` (number) - –Ω–æ–º–µ—Ä –∫–æ–ª–æ–Ω–∫–∏

#### get_document_symbols
–û—Ç—Ä–∏–º—É—î —Å–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª—ñ–≤ —É –¥–æ–∫—É–º–µ–Ω—Ç—ñ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `file` (string) - —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É
- `kind` (string) - —Ç–∏–ø: Function, Class, Variable, Method

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–Ø–∫—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —î –≤ utils.lua?"

AI:
üîß –í–∏–∫–æ–Ω—É—é get_document_symbols: file="utils.lua", kind="Function"
‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 12 —Ñ—É–Ω–∫—Ü—ñ–π:
   - format_date (line 10)
   - parse_json (line 45)
   - validate_email (line 78)
   ...
```

#### rename_symbol
–ü–µ—Ä–µ–π–º–µ–Ω–æ–≤—É—î —Å–∏–º–≤–æ–ª —É –≤—Å—ñ—Ö –º—ñ—Å—Ü—è—Ö.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `old_name` (string) - —Å—Ç–∞—Ä–∞ –Ω–∞–∑–≤–∞
- `new_name` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –Ω–æ–≤–∞ –Ω–∞–∑–≤–∞

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–ü–µ—Ä–µ–π–º–µ–Ω—É–π process_data –Ω–∞ processData"

AI:
üîß –í–∏–∫–æ–Ω—É—é rename_symbol: old_name="process_data", new_name="processData"
‚úÖ –ü–µ—Ä–µ–π–º–µ–Ω–æ–≤–∞–Ω–æ —É 15 —Ñ–∞–π–ª–∞—Ö (47 –≤—Ö–æ–¥–∂–µ–Ω—å)
```

#### get_code_actions
–û—Ç—Ä–∏–º—É—î –¥–æ—Å—Ç—É–ø–Ω—ñ code actions.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `line` (number) - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞
- `column` (number) - –Ω–æ–º–µ—Ä –∫–æ–ª–æ–Ω–∫–∏

#### format_code
–§–æ—Ä–º–∞—Ç—É—î –∫–æ–¥.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `buffer` (number) - –Ω–æ–º–µ—Ä –±—É—Ñ–µ—Ä–∞
- `start_line`, `end_line` (number) - –¥—ñ–∞–ø–∞–∑–æ–Ω –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è

---

### ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–¥—É

#### insert_text
–í—Å—Ç–∞–≤–ª—è—î —Ç–µ–∫—Å—Ç —É –±—É—Ñ–µ—Ä.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `text` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - —Ç–µ–∫—Å—Ç –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏
- `line` (number) - –Ω–æ–º–µ—Ä —Ä—è–¥–∫–∞
- `mode` (string) - 'before', 'after', 'replace'

#### delete_lines
–í–∏–¥–∞–ª—è—î —Ä—è–¥–∫–∏ –∑ –±—É—Ñ–µ—Ä–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `start_line` (number, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –ø–æ—á–∞—Ç–æ–∫
- `end_line` (number) - –∫—ñ–Ω–µ—Ü—å

#### replace_text
–ó–∞–º—ñ–Ω—é—î —Ç–µ–∫—Å—Ç (–ø—ñ–¥—Ç—Ä–∏–º—É—î regex).

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `pattern` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - regex –ø–∞—Ç–µ—Ä–Ω
- `replacement` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - —Ç–µ–∫—Å—Ç –∑–∞–º—ñ–Ω–∏
- `global` (boolean) - –∑–∞–º—ñ–Ω–∏—Ç–∏ –≤—Å—ñ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–ó–∞–º—ñ–Ω–∏ –≤—Å—ñ var –Ω–∞ let"

AI:
üîß –í–∏–∫–æ–Ω—É—é replace_text: pattern="var ", replacement="let ", global=true
‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ 23 –∑–∞–º—ñ–Ω–∏ —É —Ñ–∞–π–ª—ñ
```

#### get_selection
–û—Ç—Ä–∏–º—É—î –≤–∏–±—Ä–∞–Ω–∏–π —Ç–µ–∫—Å—Ç.

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á (–≤–∏–¥—ñ–ª–∏–≤ –∫–æ–¥): "–©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–æ–¥?"

AI:
üîß –í–∏–∫–æ–Ω—É—é get_selection
‚úÖ –û—Ç—Ä–∏–º–∞–Ω–æ 15 —Ä—è–¥–∫—ñ–≤ –≤–∏–¥—ñ–ª–µ–Ω–æ–≥–æ –∫–æ–¥—É

[AI –∞–Ω–∞–ª—ñ–∑—É—î –∫–æ–¥ —Ç–∞ –ø–æ—è—Å–Ω—é—î]
```

---

### üìã –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—É—Ñ–µ—Ä–∞–º–∏

#### list_buffers
–°–ø–∏—Å–æ–∫ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –±—É—Ñ–µ—Ä—ñ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `only_modified` (boolean) - —Ç—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–µ–Ω—ñ

#### create_buffer
–°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –±—É—Ñ–µ—Ä.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `name` (string) - —ñ–º'—è —Ñ–∞–π–ª—É
- `content` (string) - –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –≤–º—ñ—Å—Ç
- `filetype` (string) - —Ç–∏–ø —Ñ–∞–π–ª—É
- `open` (boolean) - –≤—ñ–¥–∫—Ä–∏—Ç–∏ —É –≤—ñ–∫–Ω—ñ

#### save_buffer
–ó–±–µ—Ä—ñ–≥–∞—î –±—É—Ñ–µ—Ä.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `buffer` (number) - –Ω–æ–º–µ—Ä –±—É—Ñ–µ—Ä–∞
- `path` (string) - —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è

#### close_buffer
–ó–∞–∫—Ä–∏–≤–∞—î –±—É—Ñ–µ—Ä.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `buffer` (number) - –Ω–æ–º–µ—Ä –±—É—Ñ–µ—Ä–∞
- `force` (boolean) - –ø—Ä–∏–º—É—Å–æ–≤–æ –∑–∞–∫—Ä–∏—Ç–∏

---

### üéØ Treesitter —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

#### get_treesitter_nodes
–ê–Ω–∞–ª—ñ–∑—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥—É —á–µ—Ä–µ–∑ treesitter.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `node_type` (string) - —Ç–∏–ø –≤—É–∑–ª—ñ–≤
- `start_line`, `end_line` (number) - –¥—ñ–∞–ø–∞–∑–æ–Ω

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–ó–Ω–∞–π–¥–∏ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —è–∫—ñ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å API"

AI:
üîß –í–∏–∫–æ–Ω—É—é get_treesitter_nodes: node_type="function"
‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 8 —Ñ—É–Ω–∫—Ü—ñ–π

üîß –í–∏–∫–æ–Ω—É—é grep_search: query="api\."
‚úÖ 3 —Ñ—É–Ω–∫—Ü—ñ—ó –≤–∏–∫–ª–∏–∫–∞—é—Ç—å API:
   - fetchUser (line 45)
   - updatePost (line 89)
   - deleteComment (line 123)
```

---

### ‚ö° –ö–æ–º–∞–Ω–¥–∏ —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

#### execute_command
–í–∏–∫–æ–Ω—É—î Ex –∫–æ–º–∞–Ω–¥—É Neovim.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `command` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –∫–æ–º–∞–Ω–¥–∞ –±–µ–∑ `:`

#### execute_shell
–í–∏–∫–æ–Ω—É—î shell –∫–æ–º–∞–Ω–¥—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `command` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - shell –∫–æ–º–∞–Ω–¥–∞
- `timeout` (number) - —Ç–∞–π–º–∞—É—Ç —É —Å–µ–∫—É–Ω–¥–∞—Ö

#### execute_macro
–í–∏–∫–æ–Ω—É—î Vim –º–∞–∫—Ä–æ—Å.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `register` (string, –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - —Ä–µ—î—Å—Ç—Ä (a-z)
- `count` (number) - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞–Ω—å

---

## –ó–æ–≤–Ω—ñ—à–Ω—ñ MCP —Å–µ—Ä–≤–µ—Ä–∏

–í–∏ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ MCP —Å–µ—Ä–≤–µ—Ä–∏ –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ.

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–µ—Ä–≤–µ—Ä—ñ–≤

```lua
require('nvim-agent').setup({
    mcp = {
        enabled = true,
        servers = {
            -- Filesystem —Å–µ—Ä–≤–µ—Ä
            {
                name = "filesystem",
                command = "npx",
                args = {"-y", "@modelcontextprotocol/server-filesystem", vim.fn.getcwd()},
            },
            
            -- Git —Å–µ—Ä–≤–µ—Ä
            {
                name = "git",
                command = "npx",
                args = {"-y", "@modelcontextprotocol/server-git"},
            },
            
            -- Database —Å–µ—Ä–≤–µ—Ä
            {
                name = "database",
                command = "mcp-server-postgres",
                args = {},
                env = {
                    DATABASE_URL = "postgresql://localhost/mydb"
                }
            }
        }
    }
})
```

### –ü–æ–ø—É–ª—è—Ä–Ω—ñ MCP —Å–µ—Ä–≤–µ—Ä–∏

| –°–µ—Ä–≤–µ—Ä | –û–ø–∏—Å | –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è |
|--------|------|--------------|
| filesystem | –†–æ–∑—à–∏—Ä–µ–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–æ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é | `npm i -g @modelcontextprotocol/server-filesystem` |
| git | Git –æ–ø–µ—Ä–∞—Ü—ñ—ó | `npm i -g @modelcontextprotocol/server-git` |
| github | GitHub API | `npm i -g @modelcontextprotocol/server-github` |
| postgres | PostgreSQL | `npm i -g @modelcontextprotocol/server-postgres` |
| sqlite | SQLite | `npm i -g @modelcontextprotocol/server-sqlite` |

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥—É

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–ó–Ω–∞–π–¥–∏ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∑ –Ω–∞–∑–≤–æ—é 'process_data' —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑—É–π —ó—Ö"

AI (–≤ —Ä–µ–∂–∏–º—ñ Agent):
1. üîß grep_search: "function process_data"
   ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 3 —Ñ—É–Ω–∫—Ü—ñ—ó
   
2. üîß read_file: src/processor.lua (lines 45-67)
   ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ –∫–æ–¥ —Ñ—É–Ω–∫—Ü—ñ—ó
   
3. üîß read_file: src/utils.lua (lines 120-145)
   ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ –∫–æ–¥ —Ñ—É–Ω–∫—Ü—ñ—ó
   
4. üîß write_file: src/processor.lua
   ‚úÖ –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –∫–µ—à—É–≤–∞–Ω–Ω—è)
   
5. üîß write_file: src/utils.lua
   ‚úÖ –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é (–≤–∏–¥–∞–ª–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è)

–ó–∞–≤–µ—Ä—à–µ–Ω–æ! –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ 3 —Ñ—É–Ω–∫—Ü—ñ—ó process_data:
- –î–æ–¥–∞–Ω–æ –∫–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- –í–∏–¥–∞–ª–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É
- –ü–æ–∫—Ä–∞—â–µ–Ω–æ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å
```

### –ê–Ω–∞–ª—ñ–∑ –ø–æ–º–∏–ª–æ–∫

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–ü–µ—Ä–µ–≤—ñ—Ä –≤—Å—ñ lua —Ñ–∞–π–ª–∏ –Ω–∞ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤ —ó—Ö"

AI (–≤ —Ä–µ–∂–∏–º—ñ Agent):
1. üîß find_files: "**/*.lua"
   ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 45 lua —Ñ–∞–π–ª—ñ–≤
   
2. üîß get_diagnostics: buffer=0, severity=ERROR
   ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –ø–æ—Ç–æ—á–Ω–∏–π —Ñ–∞–π–ª - 2 –ø–æ–º–∏–ª–∫–∏
   
3. üîß read_file: src/main.lua (lines 40-50)
   ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ –ø—Ä–æ–±–ª–µ–º–Ω–∏–π –∫–æ–¥
   
4. üîß write_file: src/main.lua
   ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω—É –ø–æ–º–∏–ª–∫—É
   
5. üîß execute_command: "edit src/config.lua"
   ‚úÖ –í—ñ–¥–∫—Ä–∏—Ç–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ñ–∞–π–ª
   
... (–ø—Ä–æ–¥–æ–≤–∂—É—î –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —ñ–Ω—à–∏—Ö —Ñ–∞–π–ª—ñ–≤)

–ó–∞–≤–µ—Ä—à–µ–Ω–æ! –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ 45 —Ñ–∞–π–ª—ñ–≤, –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ 7 –ø–æ–º–∏–ª–æ–∫.
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –º–æ–¥—É–ª—ñ–≤

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–°—Ç–≤–æ—Ä–∏ –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å auth.lua –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ login —Ç–∞ logout"

AI (–≤ —Ä–µ–∂–∏–º—ñ Agent):
1. üîß find_files: "**/*auth*.lua"
   ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ - auth.lua –Ω–µ —ñ—Å–Ω—É—î
   
2. üîß read_file: src/config.lua (lines 1-20)
   ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —ñ—Å–Ω—É—é—á–∏—Ö –º–æ–¥—É–ª—ñ–≤
   
3. üîß write_file: src/auth.lua
   ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ login/logout
   
4. üîß write_file: tests/auth_test.lua
   ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ —Ç–µ—Å—Ç–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è

–°—Ç–≤–æ—Ä–µ–Ω–æ –º–æ–¥—É–ª—å src/auth.lua –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏:
- login(username, password) - –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- logout() - –≤–∏—Ö—ñ–¥ –∑ —Å–∏—Å—Ç–µ–º–∏
- check_session() - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—ó —Å–µ—Å—ñ—ó

–¢–∞–∫–æ–∂ —Å—Ç–≤–æ—Ä–µ–Ω–æ tests/auth_test.lua –∑ 5 —Ç–µ—Å—Ç–∞–º–∏.
```

### –†–æ–±–æ—Ç–∞ –∑ LSP

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–ó–Ω–∞–π–¥–∏ –≤—Å—ñ –º—ñ—Å—Ü—è –¥–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è fetchUser —Ç–∞ –ø–µ—Ä–µ–π–º–µ–Ω—É–π –Ω–∞ getUser"

AI (–≤ —Ä–µ–∂–∏–º—ñ Agent):
1. üîß find_references: symbol="fetchUser"
   ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 23 –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É 8 —Ñ–∞–π–ª–∞—Ö
   
2. üîß rename_symbol: old_name="fetchUser", new_name="getUser"
   ‚úÖ –ü–µ—Ä–µ–π–º–µ–Ω–æ–≤–∞–Ω–æ —É 8 —Ñ–∞–π–ª–∞—Ö (23 –≤—Ö–æ–¥–∂–µ–Ω–Ω—è)
   
3. üîß get_diagnostics: severity=ERROR
   ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ - –ø–æ–º–∏–ª–æ–∫ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –Ω–µ–º–∞

–ó–∞–≤–µ—Ä—à–µ–Ω–æ! –§—É–Ω–∫—Ü—ñ—è fetchUser –ø–µ—Ä–µ–π–º–µ–Ω–æ–≤–∞–Ω–∞ –Ω–∞ getUser:
- 8 —Ñ–∞–π–ª—ñ–≤ –∑–º—ñ–Ω–µ–Ω–æ
- 23 –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω–æ
- –ü–æ–º–∏–ª–æ–∫ –Ω–µ –≤–∏—è–≤–ª–µ–Ω–æ
```

### –ê–Ω–∞–ª—ñ–∑ –∫–æ–¥—É –∑ Treesitter

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–ó–Ω–∞–π–¥–∏ –≤—Å—ñ –∫–ª–∞—Å–∏ —è–∫—ñ –Ω–µ –º–∞—é—Ç—å docstring"

AI (–≤ —Ä–µ–∂–∏–º—ñ Agent):
1. üîß find_files: "**/*.py"
   ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 35 Python —Ñ–∞–π–ª—ñ–≤
   
2. üîß get_treesitter_nodes: node_type="class"
   ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 47 –∫–ª–∞—Å—ñ–≤
   
3. üîß get_document_symbols: kind="Class"
   ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—ñ–≤
   
4. üîß get_hover_info: symbol="UserModel"
   ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

–ó–Ω–∞–π–¥–µ–Ω–æ 12 –∫–ª–∞—Å—ñ–≤ –±–µ–∑ docstring:
- UserModel (models.py:45)
- AuthService (services/auth.py:23)
- DataProcessor (utils/processor.py:156)
...

–°—Ç–≤–æ—Ä–∏—Ç–∏ docstrings –¥–ª—è –≤—Å—ñ—Ö –∫–ª–∞—Å—ñ–≤?
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–í—ñ–¥—Ñ–æ—Ä–º–∞—Ç—É–π —É—Å—ñ JavaScript —Ñ–∞–π–ª–∏ —É –ø—Ä–æ–µ–∫—Ç—ñ"

AI (–≤ —Ä–µ–∂–∏–º—ñ Agent):
1. üîß find_files: "**/*.js"
   ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 28 JavaScript —Ñ–∞–π–ª—ñ–≤
   
2. üîß open_file: src/app.js
   ‚úÖ –í—ñ–¥–∫—Ä–∏—Ç–æ —Ñ–∞–π–ª
   
3. üîß format_code: buffer=current
   ‚úÖ –§–∞–π–ª –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–æ
   
4. üîß save_buffer
   ‚úÖ –ó–º—ñ–Ω–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ
   
... (–ø—Ä–æ–¥–æ–≤–∂—É—î –∑ —ñ–Ω—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏)

–ó–∞–≤–µ—Ä—à–µ–Ω–æ! –í—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–æ 28 JavaScript —Ñ–∞–π–ª—ñ–≤.
```

### –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –∑–∞–¥–∞—á–∞

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–°—Ç–≤–æ—Ä–∏ REST API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ –∑ —Ç–µ—Å—Ç–∞–º–∏"

AI (–≤ —Ä–µ–∂–∏–º—ñ Agent):
1. üîß create_buffer: name="api/users.lua", filetype="lua"
   ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –±—É—Ñ–µ—Ä –¥–ª—è API
   
2. üîß insert_text: [–∫–æ–¥ API endpoints]
   ‚úÖ –î–æ–¥–∞–Ω–æ CRUD endpoints
   
3. üîß create_buffer: name="tests/api_users_test.lua"
   ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ —Ñ–∞–π–ª —Ç–µ—Å—Ç—ñ–≤
   
4. üîß insert_text: [–∫–æ–¥ —Ç–µ—Å—Ç—ñ–≤]
   ‚úÖ –î–æ–¥–∞–Ω–æ —Ç–µ—Å—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö endpoints
   
5. üîß execute_shell: "busted tests/api_users_test.lua"
   ‚úÖ –¢–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ (15/15)
   
6. üîß format_code: buffer=1
   ‚úÖ –í—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–æ API –∫–æ–¥
   
7. üîß save_buffer: path="api/users.lua"
   ‚úÖ –§–∞–π–ª –∑–±–µ—Ä–µ–∂–µ–Ω–æ

–°—Ç–≤–æ—Ä–µ–Ω–æ REST API –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:
‚úÖ api/users.lua - 5 endpoints (GET, POST, PUT, DELETE, PATCH)
‚úÖ tests/api_users_test.lua - 15 —Ç–µ—Å—Ç—ñ–≤ (–≤—Å—ñ –ø—Ä–æ–π—à–ª–∏)
‚úÖ –ö–æ–¥ –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–æ —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–æ
```

### –†–æ–±–æ—Ç–∞ –∑ –ø–æ–≤–Ω–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç—É

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–î–æ–¥–∞–π –ø—ñ–¥—Ç—Ä–∏–º–∫—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤ –ø—Ä–æ–µ–∫—Ç"

AI (–≤ —Ä–µ–∂–∏–º—ñ Agent):
1. üîß get_project_context: include_content=true, include_git_info=true
   ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –ø—Ä–æ–µ–∫—Ç (42 —Ñ–∞–π–ª–∏, 1.8MB)
   üìä –ü—Ä–æ–µ–∫—Ç: Node.js (Express)
   üì¶ –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ: express, cors, body-parser
   üåø Git: main branch, 3 uncommitted files
   
   –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
   - src/
     - routes/     (5 —Ñ–∞–π–ª—ñ–≤)
     - models/     (8 —Ñ–∞–π–ª—ñ–≤)
     - middleware/ (3 —Ñ–∞–π–ª–∏)
     - controllers/ (7 —Ñ–∞–π–ª—ñ–≤)
   - tests/        (12 —Ñ–∞–π–ª—ñ–≤)
   - config/       (2 —Ñ–∞–π–ª–∏)
   
2. –ê–Ω–∞–ª—ñ–∑ –∫–æ–¥—É:
   ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ Express app —É src/app.js
   ‚úÖ Routes –≤–∏–∑–Ω–∞—á–µ–Ω—ñ —É src/routes/index.js
   ‚úÖ User model —É src/models/User.js
   ‚ö†Ô∏è –í—ñ–¥—Å—É—Ç–Ω—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
   
3. –ü–ª–∞–Ω —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:
   - –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ passport —Ç–∞ jsonwebtoken
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ middleware/auth.js
   - –î–æ–¥–∞—Ç–∏ login/register routes
   - –û–Ω–æ–≤–∏—Ç–∏ User model (hash –ø–∞—Ä–æ–ª—ñ–≤)
   - –ó–∞—Ö–∏—Å—Ç–∏—Ç–∏ —ñ—Å–Ω—É—é—á—ñ routes
   - –î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–∏
   
4. üîß write_file: "middleware/auth.js"
   ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ JWT middleware
   
5. üîß write_file: "routes/auth.js"
   ‚úÖ –î–æ–¥–∞–Ω–æ /login —Ç–∞ /register endpoints
   
6. üîß read_file: "models/User.js"
   üîß insert_text: [–¥–æ–¥–∞—Ç–∏ bcrypt hashing]
   ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ User model
   
7. üîß grep_search: "app.use('/api"
   ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 8 –Ω–µ–∑–∞—Ö–∏—â–µ–Ω–∏—Ö routes
   
8. üîß replace_text: [–¥–æ–¥–∞—Ç–∏ auth middleware]
   ‚úÖ –ó–∞—Ö–∏—â–µ–Ω–æ –≤—Å—ñ /api routes
   
9. üîß write_file: "tests/auth.test.js"
   ‚úÖ –î–æ–¥–∞–Ω–æ 12 —Ç–µ—Å—Ç—ñ–≤ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
   
10. üîß execute_shell: "npm test"
    ‚úÖ –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π—à–ª–∏ (24/24)

‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–∞!

–ó–º—ñ–Ω–∏:
- middleware/auth.js (–Ω–æ–≤–∏–π)
- routes/auth.js (–Ω–æ–≤–∏–π)
- models/User.js (–æ–Ω–æ–≤–ª–µ–Ω–æ)
- routes/*.js (–¥–æ–¥–∞–Ω–æ auth)
- tests/auth.test.js (–Ω–æ–≤–∏–π)
- package.json (–¥–æ–¥–∞–Ω–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ)

–í—Å—ñ —Ñ–∞–π–ª–∏ –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω—ñ —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ.
```

### –®–≤–∏–¥–∫–∏–π –æ–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–ü–æ–∫–∞–∂–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É"

AI:
üîß get_project_structure: max_depth=4, show_hidden=false

üìÅ /home/user/my-project
‚îú‚îÄ‚îÄ üìÅ src
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Header.tsx (2.3KB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Footer.tsx (1.8KB)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ ui
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ Button.tsx (3.1KB)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÑ Input.tsx (2.7KB)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Home.tsx (5.2KB)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ About.tsx (3.4KB)
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ App.tsx (4.1KB)
‚îú‚îÄ‚îÄ üìÅ tests
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ App.test.tsx (2.9KB)
‚îú‚îÄ‚îÄ üìÑ package.json (1.2KB)
‚îú‚îÄ‚îÄ üìÑ tsconfig.json (0.8KB)
‚îî‚îÄ‚îÄ üìÑ README.md (2.1KB)

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- –§–∞–π–ª—ñ–≤: 15
- –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π: 5
- –¢–∏–ø: React (TypeScript)
```

## –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è MCP

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

```vim
:lua print(vim.inspect(require('nvim-agent.mcp').list_tools()))
```

### –õ–æ–≥—É–≤–∞–Ω–Ω—è MCP –≤–∏–∫–ª–∏–∫—ñ–≤

```lua
require('nvim-agent').setup({
    debug = {
        enabled = true,
        log_level = "debug",
    }
})
```

–ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤:
```bash
tail -f ~/.cache/nvim/nvim-agent.log | grep MCP
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É

```lua
local mcp = require('nvim-agent.mcp')

-- –¢–µ—Å—Ç —á–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—É
local result = mcp.execute_tool('read_file', {
    path = 'README.md',
    start_line = 1,
    end_line = 10
})

print(vim.inspect(result))
```

## –û–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ –±–µ–∑–ø–µ–∫–∞

### –û–±–º–µ–∂–µ–Ω–Ω—è

- –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ **—Ç—ñ–ª—å–∫–∏ –≤ —Ä–µ–∂–∏–º—ñ Agent**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è: –æ–±–º–µ–∂–µ–Ω–∏–π –ø–∞–º'—è—Ç—Ç—é
- Timeout –¥–ª—è shell –∫–æ–º–∞–Ω–¥: 30 —Å–µ–∫—É–Ω–¥ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å tool calls –Ω–∞ –∑–∞–ø–∏—Ç: –Ω–µ–æ–±–º–µ–∂–µ–Ω–∞ (–æ–±–µ—Ä–µ–∂–Ω–æ –∑ —Ä–µ–∫—É—Ä—Å—ñ—î—é)

### –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–í–∞–∂–ª–∏–≤–æ:** –†–µ–∂–∏–º Agent –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –¥–æ–≤—ñ–ª—å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏!

- AI –º–æ–∂–µ —á–∏—Ç–∞—Ç–∏ –±—É–¥—å-—è–∫—ñ —Ñ–∞–π–ª–∏ —É –≤–∞—à–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ
- AI –º–æ–∂–µ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ —Ç–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏
- AI –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ shell –∫–æ–º–∞–Ω–¥–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ —â–æ —Ä–æ–±–∏—Ç—å AI –ø–µ—Ä–µ–¥ —Å—Ö–≤–∞–ª–µ–Ω–Ω—è–º –∑–º—ñ–Ω
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é –≤–µ—Ä—Å—ñ–π (git)
3. –û–±–º–µ–∂—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –≤ production —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ
4. –ù–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –≤ –∫–æ–¥—ñ

### –í–∏–º–∫–Ω–µ–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –æ–±–º–µ–∂–∏—Ç–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ AI:

```lua
require('nvim-agent').setup({
    mcp = {
        enabled = true,
        tools = {
            execute_shell = false,  -- –ó–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ shell –∫–æ–º–∞–Ω–¥–∏
            write_file = false,     -- –ó–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –∑–∞–ø–∏—Å —Ñ–∞–π–ª—ñ–≤
        }
    }
})
```

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

- [MCP Specification](https://modelcontextprotocol.io/)
- [MCP Servers Repository](https://github.com/modelcontextprotocol/servers)
- [nvim-agent Documentation](../README.md)
