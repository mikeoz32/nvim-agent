# –§—ñ–∫—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –¥–ª—è —Ä–µ–∂–∏–º—É Agent

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–∏—Ç–∞–≤ "–±–∞—á–∏—à –ø—Ä–æ–µ–∫—Ç?" –≤ —Ä–µ–∂–∏–º—ñ Agent, AI –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ —â–æ –Ω–µ –±–∞—á–∏—Ç—å –∫–æ–¥ —Ç–∞ –Ω–µ –º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ tools, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ tools –±—É–ª–∏ —Ç–µ—Ö–Ω—ñ—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ñ.

## –ü—Ä–∏—á–∏–Ω–∞
1. –°–∏—Å—Ç–µ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Agent —Ä–µ–∂–∏–º—É –Ω–µ –º—ñ—Å—Ç–∏–≤ –æ–ø–∏—Å—É –¥–æ—Å—Ç—É–ø–Ω–∏—Ö MCP tools
2. –°–∏—Å—Ç–µ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç –Ω–µ –≤–∫–ª—é—á–∞–≤—Å—è –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–∏—Ö —Å–µ—Å—ñ–π (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –Ω–æ–≤–∏—Ö)
3. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç –Ω–µ –¥–æ–¥–∞–≤–∞–ª–∞—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤ Agent —Ä–µ–∂–∏–º—ñ
4. `get_system_prompt()` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∞ –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Ä–µ–∂–∏–º –∑ `modes`, –∞ –Ω–µ —Ä–µ–∂–∏–º –∑ —Å–µ—Å—ñ—ó

## –†—ñ—à–µ–Ω–Ω—è

### 1. –û–Ω–æ–≤–ª–µ–Ω–æ —Å–∏—Å—Ç–µ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Agent —Ä–µ–∂–∏–º—É (`modes.lua`)
–î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å 20+ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö MCP tools:
- üìÅ –†–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–∞–º–∏: read_file, create_file, replace_string_in_file, list_dir, file_search
- üîç –ü–æ—à—É–∫ —Ç–∞ –∞–Ω–∞–ª—ñ–∑: grep_search, semantic_search, get_errors, list_code_usages
- üíª –í–∏–∫–æ–Ω–∞–Ω–Ω—è: run_in_terminal, get_terminal_output, runTests
- üîß Git –æ–ø–µ—Ä–∞—Ü—ñ—ó: get_changed_files

### 2. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ `get_system_prompt()` (`chat.lua`)
–¢–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ–∂–∏–º –∑ —Å–µ—Å—ñ—ó –∑–∞–º—ñ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ:
```lua
local current_mode = sessions.get_mode()
local mode_suffix = modes.get_prompt_suffix(current_mode)
```

### 3. –î–æ–¥–∞–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É –≤ Agent —Ä–µ–∂–∏–º—ñ (`chat.lua`)
–ü—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∑–∞–ø–∏—Ç—É –≤ Agent —Ä–µ–∂–∏–º—ñ –¥–æ–¥–∞—î—Ç—å—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:
- üìÅ –ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É
- üìç –ü–æ–≤–Ω–∏–π —à–ª—è—Ö
- üí° –ü—ñ–¥–∫–∞–∑–∫–∏ —è–∫ –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç (file_search, list_dir, read_file)

### 4. –°–∏—Å—Ç–µ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç –∑–∞–≤–∂–¥–∏ –≤–∫–ª—é—á–∞—î—Ç—å—Å—è
–ù–∞–≤—ñ—Ç—å –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–∏—Ö —Å–µ—Å—ñ–π —Å–∏—Å—Ç–µ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç –¥–æ–¥–∞—î—Ç—å—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É –∑–∞–ø–∏—Ç—É.

## –†–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ AI —Ç–µ–ø–µ—Ä –∑–Ω–∞—î —â–æ –ø—Ä–∞—Ü—é—î –≤ Agent —Ä–µ–∂–∏–º—ñ  
‚úÖ AI –∑–Ω–∞—î –ø—Ä–æ –≤—Å—ñ 20+ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö MCP tools  
‚úÖ AI –∑–Ω–∞—î –Ω–∞–∑–≤—É —Ç–∞ —à–ª—è—Ö –ø—Ä–æ–µ–∫—Ç—É  
‚úÖ AI –º–æ–∂–µ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ tools  
‚úÖ –ü—Ä–∞—Ü—é—î –¥–ª—è –Ω–æ–≤–∏—Ö —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–∏—Ö —Å–µ—Å—ñ–π  

## –¢–µ—Å—Ç–∏
–°—Ç–≤–æ—Ä–µ–Ω–æ 2 —Ç–µ—Å—Ç–æ–≤–∏—Ö —Ñ–∞–π–ª–∏:
- `test_agent_context.lua` - –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ tools —É –ø—Ä–æ–º–ø—Ç—ñ
- `test_agent_full.lua` - –ø–æ–≤–Ω–∏–π —Ç–µ—Å—Ç –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç—É (6 —Ç–µ—Å—Ç—ñ–≤)

–í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ ‚úÖ

## –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: –ø—Ä–∏–≤—ñ—Ç, –±–∞—á–∏—à –ø—Ä–æ–µ–∫—Ç?

AI (–¥–æ —Ñ—ñ–∫—Å—É): –ó–∞—Ä–∞–∑ —è –Ω–µ –±–∞—á—É –∂–æ–¥–Ω–æ–≥–æ –∫–æ–¥—É —á–∏ –ø—Ä–æ–µ–∫—Ç—É –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ...

AI (–ø—ñ—Å–ª—è —Ñ—ñ–∫—Å—É): –¢–∞–∫! –Ø –±–∞—á—É –ø—Ä–æ–µ–∫—Ç "nvim-agent" –≤ d:\work\nvim-agent. 
                  –î–æ–∑–≤–æ–ª—å —è –ø–æ–¥–∏–≤–ª—é—Å—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É...
                  [–≤–∏–∫–ª–∏–∫–∞—î file_search *.lua]
                  [–≤–∏–∫–ª–∏–∫–∞—î list_dir lua/nvim-agent]
                  –ë–∞—á—É —â–æ —Ü–µ –ø–ª–∞–≥—ñ–Ω –¥–ª—è Neovim –∑ —Ç–∞–∫–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é...
```
