# nvim-agent Cheatsheet

–®–≤–∏–¥–∫–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫ –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```vim
" –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç
<leader>cc

" –ó–∞–¥–∞—Ç–∏ —à–≤–∏–¥–∫–µ –ø–∏—Ç–∞–Ω–Ω—è
<leader>ca

" –ü–æ—è—Å–Ω–∏—Ç–∏ –≤–∏–¥—ñ–ª–µ–Ω–∏–π –∫–æ–¥
<leader>ce  (—É Visual mode)
```

## üìã –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

| –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ | –ö–æ–º–∞–Ω–¥–∞/–ö–ª–∞–≤—ñ—à–∞ |
|-------------|-----------------|
| –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç | `:NvimAgentChat` –∞–±–æ `<leader>cc` |
| –®–≤–∏–¥–∫–µ –ø–∏—Ç–∞–Ω–Ω—è | `:NvimAgentAsk {–ø–∏—Ç–∞–Ω–Ω—è}` –∞–±–æ `<leader>ca` |
| –ü–æ—è—Å–Ω–∏—Ç–∏ –∫–æ–¥ | `<leader>ce` (Visual mode) |
| –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–æ–¥ | `<leader>cg` |
| –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | `<leader>cr` (Visual mode) |
| –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ | `<leader>co` (Visual mode) |
| –¢–µ—Å—Ç–∏ | `<leader>ct` (Visual mode) |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è | `<leader>cd` |
| –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ | `<leader>cf` |

## üéØ –†–µ–∂–∏–º–∏

```vim
:NvimAgentMode ask     " ü§î –ó–∞–ø–∏—Ç–∞–Ω–Ω—è
:NvimAgentMode edit    " ‚úèÔ∏è  –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
:NvimAgentMode agent   " ü§ñ –ê–≤—Ç–æ–Ω–æ–º–Ω–∏–π (–∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏)

<leader>cm             " –¶–∏–∫–ª—ñ—á–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏
```

## üëÅÔ∏è Review Mode

```vim
:NvimAgentReviewMode on        " –£–≤—ñ–º–∫–Ω—É—Ç–∏
:NvimAgentReviewChanges        " –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–º—ñ–Ω–∏
:NvimAgentAcceptAll            " –ü—Ä–∏–π–Ω—è—Ç–∏ –≤—Å—ñ
:NvimAgentDiscardAll           " –í—ñ–¥—Ö–∏–ª–∏—Ç–∏ –≤—Å—ñ
:NvimAgentChangesStats         " –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### –£ preview –≤—ñ–∫–Ω—ñ

| –ö–ª–∞–≤—ñ—à–∞ | –î—ñ—è |
|---------|-----|
| `a` | Accept - –ø—Ä–∏–π–Ω—è—Ç–∏ |
| `d` | Discard - –≤—ñ–¥—Ö–∏–ª–∏—Ç–∏ |
| `A` | Accept All |
| `D` | Discard All |
| `n` | Next - –Ω–∞—Å—Ç—É–ø–Ω–∞ |
| `p` | Previous - –ø–æ–ø–µ—Ä–µ–¥–Ω—è |
| `q` | Quit - –∑–∞–∫—Ä–∏—Ç–∏ |

## üîß MCP —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (—Ä–µ–∂–∏–º Agent)

### –ù–∞–π–∫–æ—Ä–∏—Å–Ω—ñ—à—ñ

```text
üìñ read_file            - —á–∏—Ç–∞—î —Ñ–∞–π–ª
üíæ write_file           - –∑–∞–ø–∏—Å—É—î —Ñ–∞–π–ª
üì¶ get_project_context  - –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
üå≤ get_project_structure - –¥–µ—Ä–µ–≤–æ –ø—Ä–æ–µ–∫—Ç—É
üîç search_text          - grep –ø–æ—à—É–∫
üêõ lsp_diagnostics      - –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
üí° lsp_definition       - –ø–µ—Ä–µ–π—Ç–∏ –¥–æ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è
üîó lsp_references       - –∑–Ω–∞–π—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```

### –í—Å—å–æ–≥–æ 28 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

- –§–∞–π–ª–∏: 5
- –ü—Ä–æ–µ–∫—Ç: 2
- LSP: 9
- –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è: 4
- –ë—É—Ñ–µ—Ä–∏: 4
- Tree-sitter: 1
- –ö–æ–º–∞–Ω–¥–∏: 3

## üí¨ –ü—Ä–∏–∫–ª–∞–¥–∏ –ø–∏—Ç–∞–Ω—å

### Ask —Ä–µ–∂–∏–º

```text
–Ø–∫ –ø—Ä–∞—Ü—é—î —Ü—è —Ñ—É–Ω–∫—Ü—ñ—è?
–©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–æ–¥?
–ß–æ–º—É —Ç—É—Ç –ø–æ–º–∏–ª–∫–∞?
–Ø–∫–∏–π –∫—Ä–∞—â–∏–π —Å–ø–æ—Å—ñ–± —Ü–µ –∑—Ä–æ–±–∏—Ç–∏?
```

### Edit —Ä–µ–∂–∏–º

```text
–í—ñ–¥—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é
–û–ø—Ç–∏–º—ñ–∑—É–π —Ü–µ–π —Ü–∏–∫–ª
–î–æ–¥–∞–π –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫
–ó—Ä–æ–±–∏ –∫–æ–¥ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—à–∏–º
```

### Agent —Ä–µ–∂–∏–º

```text
–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç —Ç–∞ –∑–Ω–∞–π–¥–∏ –ø—Ä–æ–±–ª–µ–º–∏
–î–æ–¥–∞–π –ª–æ–≥—É–≤–∞–Ω–Ω—è —É –≤—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
–°—Ç–≤–æ—Ä–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö –º–æ–¥—É–ª—ñ–≤
–í—ñ–¥—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏ –ø—Ä–æ–µ–∫—Ç –∑ callbacks –Ω–∞ async/await
```

## üé® –£ –≤—ñ–∫–Ω—ñ —á–∞—Ç—É

| –ö–ª–∞–≤—ñ—à–∞ | –î—ñ—è |
|---------|-----|
| `i` | –†–µ–∂–∏–º –≤–≤–æ–¥—É |
| `Enter` | –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ |
| `Esc` | –ó–∞–∫—Ä–∏—Ç–∏ |
| `Ctrl+l` | –û—á–∏—Å—Ç–∏—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é |
| `Ctrl+j` | –í–Ω–∏–∑ |
| `Ctrl+k` | –í–≥–æ—Ä—É |

## üìù –ö–æ–Ω—Ç–µ–∫—Å—Ç

```vim
:NvimAgentAddContext        " –î–æ–¥–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Ñ–∞–π–ª
:NvimAgentAddSelection      " –î–æ–¥–∞—Ç–∏ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è (Visual)
:NvimAgentClearContext      " –û—á–∏—Å—Ç–∏—Ç–∏
:NvimAgentShowContext       " –ü–æ–∫–∞–∑–∞—Ç–∏
```

## üíæ –Ü—Å—Ç–æ—Ä—ñ—è

```vim
:NvimAgentSaveChat my-chat      " –ó–±–µ—Ä–µ–≥—Ç–∏
:NvimAgentLoadChat my-chat      " –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏
:NvimAgentListChats             " –°–ø–∏—Å–æ–∫
:NvimAgentDeleteChat my-chat    " –í–∏–¥–∞–ª–∏—Ç–∏
```

## ‚ö° –®–≤–∏–¥–∫—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª—É

```vim
:NvimAgentMode agent
:NvimAgentReviewMode on
:NvimAgentChat
> –í—ñ–¥—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏ —Ü–µ–π —Ñ–∞–π–ª: –ø–æ–∫—Ä–∞—â —ñ–º–µ–Ω–∞, –¥–æ–¥–∞–π —Ç–∏–ø–∏, –æ–ø—Ç–∏–º—ñ–∑—É–π
:NvimAgentReviewChanges
" –Ω–∞—Ç–∏—Å–∫–∞—î–º–æ a/d –¥–ª—è –∫–æ–∂–Ω–æ—ó –∑–º—ñ–Ω–∏
```

### –ê–Ω–∞–ª—ñ–∑ –ø—Ä–æ–µ–∫—Ç—É

```vim
:NvimAgentMode agent
:NvimAgentChat
> –ó–∞–≤–∞–Ω—Ç–∞–∂ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ get_project_context —ñ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
```

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤

```vim
" –í–∏–¥—ñ–ª—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é —É Visual mode
:NvimAgentMode edit
<leader>ct
" –∞–±–æ
:NvimAgentTest
```

### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫

```vim
:NvimAgentMode agent
:NvimAgentChat
> –ó–Ω–∞–π–¥–∏ –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏ —á–µ—Ä–µ–∑ lsp_diagnostics —ñ –≤–∏–ø—Ä–∞–≤ —ó—Ö
```

## üîç –í—ñ–∑—É–∞–ª—å–Ω–∏–π –∑–≤–æ—Ä–æ—Ç–Ω—ñ–π –∑–≤'—è–∑–æ–∫

AI –ø–æ–∫–∞–∑—É—î —â–æ —Ä–æ–±–∏—Ç—å:

```text
ü§ñ –í–∏–∫–æ–Ω—É—é 3 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏...

  üìñ –ß–∏—Ç–∞—é —Ñ–∞–π–ª: app.lua
  ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ 150 —Ä—è–¥–∫—ñ–≤

  üîç –®—É–∫–∞—é —Ç–µ–∫—Å—Ç: "TODO"
  ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ 5 –∑–±—ñ–≥—ñ–≤

  üíæ –ó–∞–ø–∏—Å—É—é —Ñ–∞–π–ª: app.lua
  ‚úÖ –§–∞–π–ª –∑–±–µ—Ä–µ–∂–µ–Ω–æ

  üí≠ –ê–Ω–∞–ª—ñ–∑—É—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏...
```

28 —ñ–∫–æ–Ω–æ–∫ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π!

## ‚öôÔ∏è –®–≤–∏–¥–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

```lua
require('nvim-agent').setup({
    api = {
        provider = "openai",
        model = "gpt-4",
        api_key = os.getenv("OPENAI_API_KEY"),
    },
    ui = {
        chat = {
            width = 50,
            position = "right",
        }
    },
    keymaps = {
        toggle_chat = "<leader>cc",
        explain_code = "<leader>ce",
    }
})
```

## üÜò Troubleshooting

```vim
" –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏
:messages

" –î–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏
:lua vim.print(require('nvim-agent.utils').get_logs())

" –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å MCP
:lua print(vim.inspect(require('nvim-agent.mcp').tools))

" –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ review mode
:lua print(require('nvim-agent.mcp').review_mode)

" –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–º—ñ–Ω
:NvimAgentChangesStats
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

| –î–æ–∫—É–º–µ–Ω—Ç | –ó–º—ñ—Å—Ç |
|----------|-------|
| [README.md](../README.md) | –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è |
| [COMMANDS.md](COMMANDS.md) | –í—Å—ñ –∫–æ–º–∞–Ω–¥–∏ |
| [MCP_TOOLS.md](MCP_TOOLS.md) | 28 MCP —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ |
| [MCP_QUICKSTART.md](MCP_QUICKSTART.md) | –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç MCP |
| [VISUAL_FEEDBACK.md](VISUAL_FEEDBACK.md) | –í—ñ–∑—É–∞–ª—å–Ω—ñ —ñ–∫–æ–Ω–∫–∏ |
| [REVIEW_MODE.md](REVIEW_MODE.md) | Review Mode –≥—ñ–¥ |

## üéØ Best Practices

```text
‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Agent —Ä–µ–∂–∏–º –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–¥–∞—á
‚úÖ –£–≤—ñ–º–∫–Ω—ñ—Ç—å review mode –ø–µ—Ä–µ–¥ –≤–µ–ª–∏–∫–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏
‚úÖ –î–æ–¥–∞–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ AddContext
‚úÖ –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ –∫–æ—Ä–∏—Å–Ω—ñ —Ä–æ–∑–º–æ–≤–∏ —á–µ—Ä–µ–∑ SaveChat
‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ —Ä–µ–∂–∏–º–∏ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∑–∞–¥–∞—á—ñ

‚ùå –ù–µ –ø—Ä–∏–π–º–∞–π—Ç–µ –≤—Å—ñ –∑–º—ñ–Ω–∏ –æ–¥—Ä–∞–∑—É –±–µ–∑ –ø–µ—Ä–µ–≥–ª—è–¥—É
‚ùå –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Agent mode –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –ø–∏—Ç–∞–Ω—å
‚ùå –ù–µ –∑–∞–±—É–≤–∞–π—Ç–µ –æ—á–∏—â–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—ñ—Å–ª—è –∑–∞–≤–¥–∞–Ω–Ω—è
```

## üöÄ Hotkey Combos

```vim
" –ü–æ–≤–Ω–∏–π workflow
<leader>cc              " 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç
<leader>cm              " 2. –ó–º—ñ–Ω–∏—Ç–∏ —Ä–µ–∂–∏–º –Ω–∞ Agent
" –ù–∞–ø–∏—Å–∞—Ç–∏ –∑–∞–ø–∏—Ç
:NvimAgentReviewMode on " 3. –£–≤—ñ–º–∫–Ω—É—Ç–∏ review
Enter                   " 4. –ù–∞–¥—ñ—Å–ª–∞—Ç–∏
:NvimAgentReviewChanges " 5. –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–º—ñ–Ω–∏
" a/d –¥–ª—è accept/discard

" –®–≤–∏–¥–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
<leader>cm              " 1. Agent mode
<leader>cr              " 2. Refactor
:NvimAgentReviewChanges " 3. Review

" –ê–Ω–∞–ª—ñ–∑ –ø–æ–º–∏–ª–æ–∫
<leader>cm              " 1. Agent mode
:NvimAgentChat          " 2. –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç
> –ó–Ω–∞–π–¥–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤ –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏
:NvimAgentReviewChanges " 3. Review fixes
```

---

**–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–≥–æ coding! üéâ**
