-- –ü—Ä–∏–∫–ª–∞–¥ –±–∞–∑–æ–≤–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –¥–ª—è nvim-agent
-- –°–∫–æ–ø—ñ—é–π—Ç–µ —Ü–µ–π —Ñ–∞–π–ª —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ –ø—ñ–¥ —Å–≤–æ—ó –ø–æ—Ç—Ä–µ–±–∏

return {
    -- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è API
    api = {
        provider = "openai",        -- "openai", "anthropic", "github-copilot", "local"
        model = "gpt-4",           -- –ú–æ–¥–µ–ª—å AI –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
        api_key = nil,             -- –ë—É–¥–µ –≤–∑—è—Ç–æ –∑ –∑–º—ñ–Ω–Ω–æ—ó –æ—Ç–æ—á–µ–Ω–Ω—è
        github_token = nil,        -- GitHub —Ç–æ–∫–µ–Ω –¥–ª—è Copilot (–±—É–¥–µ –≤–∑—è—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
        base_url = nil,            -- –î–ª—è –∫–∞—Å—Ç–æ–º–Ω–∏—Ö API (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Ollama)
        timeout = 30000,           -- –¢–∞–π–º–∞—É—Ç –∑–∞–ø–∏—Ç—É –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö
        max_tokens = 2048,         -- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–∫–µ–Ω—ñ–≤
        temperature = 0.7,         -- –ö—Ä–µ–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å (0.0 - 2.0)
    },

    -- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è UI
    ui = {
        chat = {
            width = 50,            -- –®–∏—Ä–∏–Ω–∞ –≤—ñ–∫–Ω–∞ —É –≤—ñ–¥—Å–æ—Ç–∫–∞—Ö
            height = 80,           -- –í–∏—Å–æ—Ç–∞ –≤—ñ–∫–Ω–∞ —É –≤—ñ–¥—Å–æ—Ç–∫–∞—Ö
            position = "right",    -- "right", "left", "bottom", "float"
            border = "rounded",    -- –°—Ç–∏–ª—å —Ä–∞–º–∫–∏
            title = "nvim-agent",  -- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤—ñ–∫–Ω–∞
            show_help = true,      -- –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø—ñ–¥–∫–∞–∑–∫–∏
        },
        popup = {
            border = "rounded",    -- –°—Ç–∏–ª—å —Ä–∞–º–∫–∏ –¥–ª—è popup –≤—ñ–∫–æ–Ω
        }
    },

    -- –ü–æ–≤–µ–¥—ñ–Ω–∫–∞
    behavior = {
        default_mode = "ask",              -- –†–µ–∂–∏–º –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: "ask", "edit", "agent"
        auto_save_chat = true,             -- –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —á–∞—Ç—É
        include_file_context = true,       -- –í–∫–ª—é—á–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ñ–∞–π–ª—É
        context_lines = 20,                -- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ª—ñ–Ω—ñ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
        max_context_files = 5,             -- –ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª—ñ–≤ —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ
    },

    -- MCP (Model Context Protocol) –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
    mcp = {
        enabled = true,  -- –£–≤—ñ–º–∫–Ω—É—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ (tools)
        
        -- –ó–æ–≤–Ω—ñ—à–Ω—ñ MCP —Å–µ—Ä–≤–µ—Ä–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
        servers = {
            -- –ü—Ä–∏–∫–ª–∞–¥ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è filesystem —Å–µ—Ä–≤–µ—Ä–∞
            -- {
            --     name = "filesystem",
            --     command = "mcp-server-filesystem",
            --     args = {vim.fn.getcwd()},
            -- },
            -- –ü—Ä–∏–∫–ª–∞–¥ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è git —Å–µ—Ä–≤–µ—Ä–∞
            -- {
            --     name = "git",
            --     command = "mcp-server-git",
            --     args = {},
            -- }
        },
        
        -- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
        tools = {
            -- –í—Å—ñ –±–∞–∑–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —É–≤—ñ–º–∫–Ω–µ–Ω—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (28 tools)
            -- –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó:
            --   üìÅ –§–∞–π–ª–∏: read_file, write_file, open_file, find_files, grep_search
            --   üéØ –ü—Ä–æ–µ–∫—Ç: get_project_context, get_project_structure
            --   üîç LSP: get_diagnostics, goto_definition, find_references, 
            --          get_signature_help, get_hover_info, get_document_symbols,
            --          rename_symbol, get_code_actions, format_code
            --   ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è: insert_text, delete_lines, replace_text, get_selection
            --   üìã –ë—É—Ñ–µ—Ä–∏: list_buffers, create_buffer, save_buffer, close_buffer
            --   üå≥ Treesitter: get_treesitter_nodes
            --   ‚ö° –ö–æ–º–∞–Ω–¥–∏: execute_command, execute_shell, execute_macro
            
            -- –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–º–∫–Ω—É—Ç–∏ –æ–∫—Ä–µ–º—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:
            -- read_file = false,
            -- write_file = false,
            
            -- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É:
            project_context = {
                max_files = 50,        -- –ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª—ñ–≤ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
                max_file_size = 100,   -- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É –≤ KB
                auto_load = false,     -- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ Agent —Ä–µ–∂–∏–º—É
            }
        }
    },

    -- –ì–∞—Ä—è—á—ñ –∫–ª–∞–≤—ñ—à—ñ
    keymaps = {
        -- –ì–ª–æ–±–∞–ª—å–Ω—ñ —Ö–æ—Ç–∫–µ—ó
        toggle_chat = "<leader>cc",        -- –í—ñ–¥–∫—Ä–∏—Ç–∏/–∑–∞–∫—Ä–∏—Ç–∏ —á–∞—Ç
        explain_code = "<leader>ce",       -- –ü–æ—è—Å–Ω–∏—Ç–∏ –∫–æ–¥
        generate_code = "<leader>cg",      -- –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–æ–¥
        refactor_code = "<leader>cr",      -- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
        generate_tests = "<leader>ct",     -- –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–∏
        generate_docs = "<leader>cd",      -- –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
        cycle_mode = "<leader>cm",         -- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ —Ä–µ–∂–∏–º
        
        -- –•–æ—Ç–∫–µ—ó –≤ —á–∞—Ç—ñ
        chat = {
            send_message = "<CR>",         -- –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
            new_line = "<S-CR>",          -- –ù–æ–≤–∏–π —Ä—è–¥–æ–∫
            clear_chat = "<C-l>",         -- –û—á–∏—Å—Ç–∏—Ç–∏ —á–∞—Ç
            close_chat = "<Esc>",         -- –ó–∞–∫—Ä–∏—Ç–∏ —á–∞—Ç
            focus_input = "<C-i>",        -- –§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥—É
            cycle_mode = "<C-m>",         -- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ —Ä–µ–∂–∏–º
        }
    },

    -- –ö–∞—Å—Ç–æ–º–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏
    prompts = {
        explain = "–ü–æ—è—Å–Ω–∏ —Ü–µ–π –∫–æ–¥ –¥–µ—Ç–∞–ª—å–Ω–æ. –û–ø–∏—à–∏ —â–æ –≤—ñ–Ω —Ä–æ–±–∏—Ç—å, —è–∫ –ø—Ä–∞—Ü—é—î —Ç–∞ —è–∫—ñ –º–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:",
        generate = "–ó–≥–µ–Ω–µ—Ä—É–π –∫–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ü—å–æ–≥–æ –æ–ø–∏—Å—É. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ç–∞ –¥–æ–¥–∞–π –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ:",
        refactor = "–ü–æ–∫—Ä–∞—â —Ü–µ–π –∫–æ–¥. –ó—Ä–æ–±–∏ –π–æ–≥–æ –±—ñ–ª—å—à —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º, –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º —Ç–∞ –¥–æ—Ç—Ä–∏–º—É–π—Å—è –Ω–∞–π–∫—Ä–∞—â–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫:",
        test = "–°—Ç–≤–æ—Ä–∏ unit —Ç–µ—Å—Ç–∏ –¥–ª—è —Ü—å–æ–≥–æ –∫–æ–¥—É. –ü–æ–∫—Ä–∏–π –æ—Å–Ω–æ–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó —Ç–∞ –∫—Ä–∞–π–Ω—ñ –≤–∏–ø–∞–¥–∫–∏:",
        document = "–°—Ç–≤–æ—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –¥–ª—è —Ü—å–æ–≥–æ –∫–æ–¥—É. –í–∫–ª—é—á–∏ –æ–ø–∏—Å –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, –ø–æ–≤–µ—Ä—Ç–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∏:",
        review = "–ü—Ä–æ–≤–µ–¥–∏ –∫–æ–¥-—Ä–µ–≤'—é —Ü—å–æ–≥–æ –∫–æ–¥—É. –ó–Ω–∞–π–¥–∏ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏, –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –∑–∞–ø—Ä–æ–ø–æ–Ω—É–π –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:",
        fix = "–ó–Ω–∞–π–¥–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤ –±–∞–≥–∏ –≤ —Ü—å–æ–º—É –∫–æ–¥—ñ. –ü–æ—è—Å–Ω–∏ —â–æ –±—É–ª–æ –Ω–µ —Ç–∞–∫ —Ç–∞ —è–∫ —Ü–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:",
    },

    -- –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
    debug = {
        enabled = false,               -- –£–≤—ñ–º–∫–Ω—É—Ç–∏ —Ä–µ–∂–∏–º –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
        log_level = "info",           -- "error", "warn", "info", "debug", "trace"
        log_file = vim.fn.stdpath("cache") .. "/nvim-agent.log",
    }
}