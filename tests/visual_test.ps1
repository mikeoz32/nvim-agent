#!/usr/bin/env pwsh
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –≤—ñ–∑—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è nvim-agent

Write-Host "üöÄ –ó–∞–ø—É—Å–∫ –≤—ñ–∑—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è nvim-agent" -ForegroundColor Green
Write-Host "=" -NoNewline; Write-Host ("=" * 60) -ForegroundColor Gray
Write-Host ""

Write-Host "üìã –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:" -ForegroundColor Cyan
Write-Host ""
Write-Host "1Ô∏è‚É£  –ë–∞–∑–æ–≤–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–∞—Ç—É:" -ForegroundColor Yellow
Write-Host "   ‚Ä¢ –í—ñ–¥–∫—Ä–∏–π—Ç–µ Neovim: " -NoNewline
Write-Host "nvim tests/test_code.lua" -ForegroundColor White
Write-Host "   ‚Ä¢ –í—ñ–¥–∫—Ä–∏–π—Ç–µ —á–∞—Ç: " -NoNewline
Write-Host "<Space>aa" -ForegroundColor White
Write-Host "   ‚Ä¢ –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å " -NoNewline
Write-Host "i" -ForegroundColor White -NoNewline
Write-Host " —â–æ–± –≤—ñ–¥–∫—Ä–∏—Ç–∏ input"
Write-Host "   ‚Ä¢ –í–≤–µ–¥—ñ—Ç—å –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏–π —Ç–µ–∫—Å—Ç"
Write-Host "   ‚Ä¢ –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å " -NoNewline
Write-Host "Ctrl+S" -ForegroundColor White -NoNewline
Write-Host " –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏"
Write-Host ""

Write-Host "2Ô∏è‚É£  –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–∂–∏–º—ñ–≤:" -ForegroundColor Yellow
Write-Host "   ‚Ä¢ Ask —Ä–µ–∂–∏–º (–ø–∏—Ç–∞–Ω–Ω—è): " -NoNewline
Write-Host "<Space>aa" -ForegroundColor White
Write-Host "   ‚Ä¢ Edit —Ä–µ–∂–∏–º (—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è): " -NoNewline
Write-Host "<Space>cm" -ForegroundColor White
Write-Host "   ‚Ä¢ Agent —Ä–µ–∂–∏–º (–∞–≤—Ç–æ–Ω–æ–º—ñ—è): " -NoNewline
Write-Host "<Space>cm" -ForegroundColor White
Write-Host ""

Write-Host "3Ô∏è‚É£  –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Edit —Ä–µ–∂–∏–º—É:" -ForegroundColor Yellow
Write-Host "   ‚Ä¢ –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–¥ –≤ visual mode (" -NoNewline
Write-Host "V" -ForegroundColor White -NoNewline
Write-Host " + —Å—Ç—Ä—ñ–ª–∫–∏)"
Write-Host "   ‚Ä¢ –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å " -NoNewline
Write-Host "<Space>ae" -ForegroundColor White -NoNewline
Write-Host " (–ø–æ—è—Å–Ω–∏—Ç–∏ –∫–æ–¥)"
Write-Host "   ‚Ä¢ –ê–±–æ " -NoNewline
Write-Host "<Space>ar" -ForegroundColor White -NoNewline
Write-Host " (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)"
Write-Host ""

Write-Host "4Ô∏è‚É£  –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ input:" -ForegroundColor Yellow
Write-Host "   ‚Ä¢ –í–≤–µ–¥—ñ—Ç—å –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏–π —Ç–µ–∫—Å—Ç (20+ —Ä—è–¥–∫—ñ–≤)"
Write-Host "   ‚Ä¢ –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–π—Ç–µ –∑–∞ statusline:"
Write-Host "     üìù Insert | –†—è–¥–∫—ñ–≤: X | –°–ª—ñ–≤: Y | –°–∏–º–≤–æ–ª—ñ–≤: Z" -ForegroundColor Gray
Write-Host ""

Write-Host "5Ô∏è‚É£  –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ layout:" -ForegroundColor Yellow
Write-Host "   ‚Ä¢ –í—ñ–¥–ø—Ä–∞–≤—Ç–µ 5-10 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å"
Write-Host "   ‚Ä¢ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–∏ –º—ñ–∂ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏"
Write-Host "   ‚Ä¢ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –Ω–µ–º–∞—î –∑–∞–π–≤–∏—Ö –ø—É—Å—Ç–∏—Ö —Ä—è–¥–∫—ñ–≤"
Write-Host ""

Write-Host "=" -NoNewline; Write-Host ("=" * 60) -ForegroundColor Gray
Write-Host ""

$response = Read-Host "–ó–∞–ø—É—Å—Ç–∏—Ç–∏ Neovim –∑–∞—Ä–∞–∑? (y/n)"
if ($response -eq "y" -or $response -eq "Y") {
  Write-Host ""
  Write-Host "‚ñ∂Ô∏è  –ó–∞–ø—É—Å–∫ Neovim..." -ForegroundColor Green
  & nvim -u tests/test_init.lua tests/test_code.lua
}
else {
  Write-Host ""
  Write-Host "üëã –ö–æ–ª–∏ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ñ, –∑–∞–ø—É—Å—Ç—ñ—Ç—å:" -ForegroundColor Cyan
  Write-Host "   nvim -u tests/test_init.lua tests/test_code.lua" -ForegroundColor White
  Write-Host ""
}
